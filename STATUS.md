# Трекер дел **BebSelf**
## Аналоги
Для того, чтобы лучше вникнуть в основную идею проекта, было принято решение исследовать аналоги на целевом рынке. В поставленной задаче указано, что разрабатываемый продукт должен включать в себя функции *списка дел*, *календаря* и *трекера задач*, поэтому аналоги программ данных типов и рассмотрены ниже.
### Списки дел
#### <img src="https://www.wunderlist.com/site/images/favicon.ico" alt="logo" style="width: 30px;"/> Wunderlist
:+1: [Wunderlist](https://www.wunderlist.com) предоставляет следующие функции:

- **Папки** — позволяет группировать связанные между собой списки
- **Комментарии** — возможность обсуждения задач между несколькими пользователями
- **Общие списки** — позволяет делиться списками между несколькими пользователями
- **Напоминания**
- **Даты выполнения**
- **Заметки**
- **Работа с почтой** — позволяет преобразовывать письма в задачи
- **Метки**
- **Материалы** — позволяет прикреплять любые материалы из интернета к задаче
- **Печать** — возможность легкой печати списков дел

Так же большим преимуществом Wunderlist является то, что он представлен на всех популярных платформах:

- macOS
- iPhone, iPad, Watch
- Android телефоны и планшеты, Kindle Fire, Chromebook
- Windows Phone
- Web,

и предоставляет **синхронизацию** списков между множеством устройств.

:-1: Но к минусам можно отнести то, что некоторые функции доступны только в *Pro* или *Бизнес* версии сервиса.

Wunderlist, на мой взгляд, предоставляет все необходимые функции для списка дел и даже больше, но функции, которые доступны бесплатно можно получить и из стандартного приложения *Напоминания* в iOS. Так же в Wunderlist достаточно интересной и необычной показалась функция *работы с почтой*.

---

#### <img src="https://d3ptyyxy2at9ui.cloudfront.net/d2043167d727a78186d9f8e734590f5a.png" alt="logo" style="width: 30px"/> Todoist
:+1: [Todoist](https://todoist.com) обладает почти теми же самыми функциями, что и Wunderlist, но имеет дополнительную функцию отслеживания прогресса выполнения дел, предоставляя **систему Кармы Todoist**, которая помогает не сбавлять темп в выполнении задач, красиво визуализируя прогресс. Так же, отдельно хочется отметить то, что в Todoist можно писать задачи на понятном человеческом языке и он сам их переведет в нужную группу, установит нужный период повторения и др.

:-1: К минусам так же можно отнести то, что большая часть интересных функций доступна только по платной подписке *Todoist premium*.

---

Так же были рассмотрены и другие популярные приложения для ведения списков дел, такие как: **Напоминания** в iOS, **Google Keep** и др. Все они предоставляют такие же функции как и аналоги, представленные выше.

### Календарь
#### <img src="https://dl2.macupdate.com/images/icons256/9120.png?d=1454440581" style="width: 30px"/> iCal
:+1: [iCal](https://www.apple.com/support/ical/index.html) работает на всех устройствах Apple на операционных системах iOS/macOS/watchOS и позволяет:

- **Создавать события** в определенный день или в определенный промежуток времени
- **Устанавливать несколько напоминаний** о приближении события
- **Указывать место**, где произойдет событие, и на основании этого может рассчитать **время в пути** и уведомить о том, **когда нужно выходить**, чтобы успеть. Так же показывает **погоду** в то время, когда будет происходить установленное событие
- **Добавлять участников** события
- **Добавлять заметки, URL, любые вложения** к событию
- **Вести несколько календарей**
- **Делиться и подписываться на календари** в том числе на встроенные **календари гос. праздников** и календарь **дней рождений**, данные для которого берутся из приложения *Контакты*
- **Добавлять учетные записи** других компаний с сервисами календарей (Google, Exchange, Yahoo, Outlook, Aol и др.)
- Предоставляет умный календарь **Найдено Siri в программах**, который помогает легко создавать события, основываясь на данных из других программ

:-1: Минусом является то, что данный календарь завязан только на экосистеме Apple и некоторые функции могут не предоставляться в странах, где плохо проработаны карты *Apple Maps*.

---

Так же были проанализированы такие календари, как: **Яндекс.Календарь**, **Google Calendar** и **Microsoft Calendar** в Windows 10. Все они обладают аналогичными функциями, что и **iCal**, только каждый "заострен" под свою экосистему.

### Трекер задач
#### <img src="https://luna1.co/5ad265.png" style="height: 30px"/> Jira

[Jira](https://www.atlassian.com/software/jira) является больше корпоративным решением, которым пользуется множество компаний в ходе разработки ПО. Jira Software предлагает множества функций, которые могут быть полезны в ходе коммерческой разработки, такие как: **Scrum доски**, которыми пользуются agile команды. В них можно настраивать:

- __Уровни доступа__ к каждому из списков для членов команды
- Устанавливать __важность__ задачи
- Устанавливать __сроки выполнения__
- Добавлять __метки__ к задачам
- Получать agile __отчеты__ о проделанной работе
- Создавать __"дорожную карту"__ для проекта.

Так же Jira предлагает и __Kanban доски__, но самое главное — это богатство программных интерфейсов, в которые входят интеграция с _системами контроля версий_, _сontinuous integration_, с локальниыми wiki в _Confluence_ и др.

---

Так же был рассмотрен такой трекер дел, как **Trello**. *Trello* так же является продуктом компании *Atlassian* и обладает меньшим количеством функций, чем *Jira*, так как больше нацелена на частного потребителя, нежели на корпоративный рынок. Однако, стоит отметить огромное количество *улучшений*, определённое число которых можно бесплатно добавить на доску, но если превысить это число, то придется купить "профессиональную" версию *Trello*, чтобы пользоваться всеми необходимыми расширениями одновременно.

## Используемые понятия

**Карточка** — самая минимальная сущность. Через нее представляется одна задача, которая может иметь мелкие подзадачи, которые представляются в *чек-листе*.

**Список** — упорядоченный контейнер, куда помещаются *карточки*. Используется для группировки *карточек* по какому-либо признаку, например по состоянию их выполнения.

**Доска** — упорядоченный контейнер, куда помещаются *списки*. Используется для представления проектов.

Одна *карточка* может принадлежать только одному *списку* на одной *доске*, однако может быть "расшарена" на другую *доску* и находиться в *списке*, который находится в другой *доске*.

## Сценарии использования

- Создать карточку "Выполнить лабораторную работу по ИСП" в списке "Важное" со сроком выполнения до 13 мая 2018, которая будет иметь в себе вложение в виде Чек-листа с подзадачами и метку "Университет".
- Создать карточку "Начать делать курсовой проект с Васей" в списке "Проекты", добавив в участники пользователя Вася.
- Создать приватную доску "Стартап" со списками "Нужно сделать", "В процессе", "Возвращенное", "Тестировка", "Готово" и дать доступ 5-ти пользователям с разными уровнями доступа к разным спискам.
- Создать карточку "Покормить собаку" с напоминанием в 9:00, 14:00 и 18:00 каждый день.

## Планируемые возможности

- Создание, изменение и удаление _карточек_ с делами, куда можно добавить:
  - название,
  - описание,
  - приоритет,
  - вложения (как файлы, так и сущности из самого трекера дел),
  - чек-лист,
  - участников,
  - срок выполнения,
  - _период повторения_ (по определенному сценарию),
  - метки,
  - комментарии
- Создание, изменение и удаление _списков_, куда можно добавлять карточки и представление их в _режиме списков_
- Создание между карточками древоподобной зависимости и представление её в _режиме иерархий_
- На основе дат, указанных в сроках выполнения, представление карточек в _режиме календаря_.
- Создание, изменение и удаление _досок_, куда входят списки с карточками. В доску можно добавить несколько участников с доступом к редактированию определённых списков. _Участник_ же, в свою очередь, с определенным уровнем доступа, может назначать другого участника исполнителем задания и подписаться на изменения в карточке.
- Фильтрация карточек по меткам.
- Создание планов с регулярными задачами, которые будут представляться через вновь созданные *карточки*.
- Система уведомлений о скором приближении срока выполнения задания в *карточке*.
- Просмотр статистики поставленных и выполненных задач за определенный промежуток времени.

## Логическая архитектура

#### Инфраструктура

_Вмещает в себя UI, тесты и конкретную реализацию работы с конкретной базой данных, по интерфейсу из слоя интерфейсов репозиториев._

Благодаря тому, что Все сущности общаются через общие интерфейсы, можно создавать разные их реализации (к примеру реализовать репозиторий можно через банальную запись в файл или с использованием баз данных), что делает проект масштабируемым и хорошо поддерживаемым.

---

#### Интерфейсы сервисов бизнес-логики

_Всё тот же паттерн "мост". Могут иметь зависимости от доменных сущностей и репозиториев, но не извне. Выполняют запросы, которые приходят из UI/API, получают данные из репозиториев._

__Интерфейс сервиса уведомлений__ _Определяет интерфейс для послыки уведомлений_

- Послать уведомление пользователю

__Интерфейс сервиса планирования__ _Определяет интерфейс для планирования создания новых карточек_

- Создавать карточку по определенному плану

__Интерфейс сервиса авторизации__ _Определяет интерфейс для логики авторизации пользователя_

- Авторизировать пользователя
- Заблокировать пользователя
- Выслать реквизиты для авторизации

__Интерфейс сервиса доступа__ _Определяет интерфейс для определения принадлежности карточки / списка / доски к пользователю или группе пользователей_

- Проверить какие права имеет пользователь по доступу к карточке / списку / доске
- Загрузить карточку / список / доску для пользователя

---

#### Интерфейсы репозиториев

_Абстракция и реализация существуют отдельно (мост), чтобы обеспечить модульность частей проекта. Можгут иметь зависимости от множества доменных сущностей, но не из множетсв, которые находятся выше._

__Интерфейс репозитория пользователей__
_Определяет интерфейс для работы с базами данных пользователей (или с любыми другими способами хранения данных)_

- Создать пользователя
- Изменить пользователя
- Удалить пользователя
- Получить пользователя

__Интерфейс репозитория досок__
_Определяет интерфейс для работы с базами данных досок (или с любыми другими способами хранения данных)_

- Создать доску
- Изменить доску
- Удалить доску
- Получить доску

---

#### Доменные сущности

_Не имеют никаких зависимостей извне множества доменных сущностей._

__Интерфейс уникальной сущности__ _задаёт базовый интерфейс, от которого наследуются все доменные сущности_

- UUID
- Название

__Карточка__

- UUID карточки
- Название
- Описание
- Срок выполнения
- Приоритет
- Ссылки на вложения
- Чек-лист
- Ссылка на родительскую карточку
- Ссылки на карточки-потомки
- Метки
- Комментарии

__Список__

- UUID списка
- Название
- Массив содержимых карточек

__Доска__

- UUID доски
- Название
- Массив содержимых списков

__Пользователь__

- UUID пользователя
- Логин
- Хэш пароля

---

**Пример работы**

1. Пользователь ввел свой *логин* и *пароль* в веб-интерфейсе.
2. Контроллер GUI послал запрос на авторизацию в *сервис авторизации* *пользователей*.
3. *Сервис авторизации* обратился к *репозиторию пользователей* и запросил сущность *пользователя* с данными реквизитами.
4. Допустим, что *логин* и *пароль* оказались верны и *сервис авторизации* создал рабочую сессию внутри себя для полученного *пользователя* на какое-то время.
5. Дальше контроллер GUI запрашивает доступные для этого пользователя доски в *сервисе доступа*, для того, чтобы отобразить их в GUI.
6. *Сервис доступа* проверяет статус авторизации текущего *пользователя* у *сервиса авторизации*.
7. *Сервис авторизации* подтвердил то, что *пользователь* авторизован и после этого, *сервис доступа* делает запрос в *репозиторий досок* для получения *досок*, в которых данный *пользователь* указан как владелец.
8. Допустим *пользователь* выбрал одну из *досок*. *Сервис доступа* внутри себя проверяет зависимости, доступ *пользователя* к *спискам*, определённым *карточкам* и тд., и отдаёт всё, что позволяется данному пользователю читать, в контроллер GUI. Так же контроллер GUI может одновременно запросить права на редактирование для определенной сущности, что тоже будет решать *сервис доступа*.

## Этапы разработки

1. Анализ требований к проекту
1. Проектирование
1. Реализация
1. Тестирование

В базовую версию будет входить:

1. Создание карточек, списков и досок
1. Просмотр информации о карточке
2. Просмотр родительских и дочерних карточек
3. Назначение пользователей на задачу
4. Возможность перемещения карточек между списками
5. Добавление срока выполнения
6. Сохранение данных в файлах

В финальную версию с веб-интерфейсом будет входить:

1. Четкое разделение между серверной и клиентской частями проекта
1. Аутентификация и регистрация пользователей
1. Иерархическое представление
1. Представление в виде календаря
2. GUI в веб-версии
1. Хранение всего в базе данных
2. Клиентский API

## Сроки

1. __Базовый прототип с основными логическими структурами__ — середина апреля
2. __Прототип без веб-интерфейса__ — середина мая
3. __Финальная версия__ — до начало июня

## Статус

Проект находится в статусе проектирования
